<!-- Add Post Section -->
<div class="add-post-section">
    <button (click)="showAddPostForm = !showAddPostForm">Add Post</button>
    <div *ngIf="showAddPostForm">
        <form (ngSubmit)="addPost()">
            <input type="text" [(ngModel)]="newPost.sujet_Post" name="sujet" placeholder="Subject" required>
            <textarea [(ngModel)]="newPost.contenu_Post" name="content" placeholder="Content" required></textarea>
            <button type="submit">Submit Post</button>
        </form>
    </div>
</div>

<!-- Posts List -->
<div class="posts-list">
    <div *ngFor="let post of posts" class="post-item">
        <div class="post-content" (click)="selectPost(post)">
            <h3>{{ post.sujet_Post }}</h3>
            <p>{{ post.contenu_Post }}</p>
            <small>Posted on: {{ post.date_Post | date:'medium' }}</small>
        </div>
        <div class="post-actions">
            <button (click)="editPost(post); $event.stopPropagation()">Edit</button>
            <button (click)="confirmDeletePost(post); $event.stopPropagation()">Delete</button>
        </div>
        <div class="post-comments" *ngIf="selectedPost?.id_Post === post.id_Post">
            <div *ngFor="let comment of post.commentaireSet" class="comment-item">
                <p>{{ comment.description }}</p>
                <!-- Add buttons for edit and delete comment if needed -->
            </div>
            <div class="add-comment-section">
                <form (ngSubmit)="addComment(post)">
                    <textarea [(ngModel)]="newComment.description" name="commentContent" placeholder="Add a comment" required></textarea>
                    <button type="submit">Comment</button>
                </form>
            </div>
        </div>
    </div>
</div>
