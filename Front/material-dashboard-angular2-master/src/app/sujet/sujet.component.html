<!-- <app-navigation></app-navigation> -->

<div class="main-content">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <!-- Bouton pour ajouter un nouveau sujet -->
        <button class="btn btn-primary btn-sky-blue mb-3" (click)="ajouterSujet()">Ajouter un sujet</button>

        <div class="card">
          <div class="card-header card-header-danger">
            <h4 class="card-title">Sujets</h4>
            <p class="card-category">Gerer les sujets</p>
          </div>
          <div class="card-body">
            <div class="sujets-list">
              <div *ngIf="message" class="alert alert-success">{{ message }}</div>
              <div *ngFor="let sujet of sujets; let i = index" class="sujet-item">
                <h2>{{ sujet.nomentreprise }}</h2>
                <h4>{{ sujet.titre_Sujet }}</h4>
                <p><strong>Description:</strong> {{ sujet.description_Sujet }}</p>
                <p><strong>Durée:</strong> {{ sujet.dure_Sujet }}</p>
                <p><strong>Lieu:</strong> {{ sujet.lieu }}</p>
                <p><strong>Contact :</strong> {{ sujet.mailentreprise }}</p>
                <p><strong>Nombre d'étudiants requis:</strong> {{ sujet.nbr_etudiant_required }}</p>
                <p><strong>Exigences:</strong> {{ sujet.requirements }}</p>
                <p><strong>Type de sujet:</strong> {{ sujet.typeSujet }}</p>
                <button class="btn btn-primary" (click)="afficherFormulaireModifier(i)">Modifier</button>

                <!-- Formulaire de modification -->
                <div *ngIf="sujetIndexToEdit === i">
                  <form (submit)="modifierSujet(sujet)">
                    <!-- Ajoutez les champs de modification ici -->
                    <input type="text" [(ngModel)]="sujet.nomentreprise" name="nomentreprise" placeholder="Nom de l'entreprise">
                    <!-- Ajoutez les autres champs de modification ici -->
                    <button type="submit" class="btn btn-success">Enregistrer</button>
                  </form>
                </div>
                
                <!-- Bouton Supprimer -->
                <button class="btn btn-danger" (click)="supprimerSujet(sujet.id_Sujet)">Supprimer</button>
              
                
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
