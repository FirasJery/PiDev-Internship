<!-- <app-navigation></app-navigation> -->

<div class="main-content">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <!-- Bouton pour ajouter un nouveau sujet -->
        <button class="btn btn-primary btn-sky-blue mb-3" (click)="ajouterSujet()">Ajouter un sujet</button>

        <div class="card">
          <div class="card-header card-header-danger">
            <h4 class="card-title">Sujets</h4>
            <p class="card-category">Gerer les sujets</p>
          </div>
          <div class="card-body">
            <div class="sujets-list">
              <div *ngIf="message" class="alert alert-success">{{ message }}</div>
              <div *ngFor="let sujet of sujets; let i = index" class="sujet-item">
                <h2>{{ sujet.nomentreprise }}</h2>
                <h4>{{ sujet.titre_Sujet }}</h4>
                <p><strong>Description:</strong> {{ sujet.description_Sujet }}</p>
                <p><strong>Durée:</strong> {{ sujet.dure_Sujet }}</p>
                <p><strong>Lieu:</strong> {{ sujet.lieu }}</p>
                <p><strong>Contact :</strong> {{ sujet.mailentreprise }}</p>
                <p><strong>Nombre d'étudiants requis:</strong> {{ sujet.nbr_etudiant_required }}</p>
                <p><strong>Exigences:</strong> {{ sujet.requirements }}</p>
                <p><strong>Type de sujet:</strong> {{ sujet.typeSujet }}</p>
                <button class="btn btn-primary btn-sky-blue mb-3" (click)="afficherFormulaireModifier(i)">Modifier</button>
                <div *ngIf="sujetIndexToEdit === i">
                  <form (submit)="modifierSujet(sujet)">
                   
                    <div class="form-group">
                      <label for="titreSujet">Titre du sujet:</label>
                      <input type="text" class="form-control" id="titreSujet" [(ngModel)]="sujet.titre_Sujet" name="titreSujet" placeholder="Titre du sujet">
                    </div>
                    <div class="form-group">
                      <label for="descriptionSujet">Description du sujet:</label>
                      <textarea class="form-control" id="descriptionSujet" [(ngModel)]="sujet.description_Sujet" name="descriptionSujet" placeholder="Description du sujet"></textarea>
                    </div>
                    <!-- Add input fields for other attributes here -->
                    <div class="form-group">
                      <label for="dureSujet">Durée du sujet:</label>
                      <input type="text" class="form-control" id="dureSujet" [(ngModel)]="sujet.dure_Sujet" name="dureSujet" placeholder="Durée du sujet">
                    </div>
                    <div class="form-group">
                      <label for="lieu">Lieu:</label>
                      <input type="text" class="form-control" id="lieu" [(ngModel)]="sujet.lieu" name="lieu" placeholder="Lieu">
                    </div>
                    <div class="form-group">
                      <label for="nbr_etudiant_required">Nombre d'étudiants requis:</label>
                      <input type="number" class="form-control" id="nbr_etudiant_required" [(ngModel)]="sujet.nbr_etudiant_required" name="nbr_etudiant_required" placeholder="Nombre d'étudiants requis">
                    </div>
                    <div class="form-group">
                      <label for="requirements">Exigences:</label>
                      <textarea class="form-control" id="requirements" [(ngModel)]="sujet.requirements" name="requirements" placeholder="Exigences"></textarea>
                    </div>
                    <div class="form-group">
                      <label for="typeSujet">Type de sujet:</label>
                      <select class="form-control" id="typeSujet" [(ngModel)]="sujet.typeSujet" name="typeSujet">
                          <option value="STAGE_FORMATION_HUMAINE_SOCIALE">Stage Formation Humaine Sociale</option>
                          <option value="STAGE_IMMERSION_ENTREPRISE">Stage Immersion Entreprise</option>
                          <option value="STAGE_INGENIEUR">Stage Ingénieur</option>
                      </select>
                  </div>
                  

                    <!-- Submit button -->
                    <button type="submit" class="btn btn-success">Enregistrer</button>
                  </form>
                </div>
                
                
    


                <!-- Bouton Supprimer -->
                <button class="btn btn-primary btn-sky-blue mb-3" (click)="supprimerSujet(sujet.id_Sujet)">Supprimer</button>
              
                
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
